@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    margin: 0;
    padding: 0;
    background-color: #000000;
    color: #ffffff;
    font-family: 'Inter', sans-serif;
    overflow-x: hidden;
    /* Smooth touch scrolling on mobile */
    -webkit-overflow-scrolling: touch;
    /* Eliminate 300ms tap delay */
    touch-action: manipulation;
  }

  /* Global Hebrew text override when lang=he */
  [lang="he"] body,
  [dir="rtl"]:lang(he),
  html[lang="he"] {
    font-family: 'IBM Plex Sans Hebrew', 'Arial Hebrew', sans-serif;
  }

  /* Hebrew letter-spacing - tight for readability */
  html[lang="he"] * {
    letter-spacing: -0.02em !important;
  }
  html[lang="he"] h1, html[lang="he"] h2, html[lang="he"] h3,
  html[lang="he"] h4, html[lang="he"] h5, html[lang="he"] h6 {
    letter-spacing: -0.03em !important;
  }
  html[lang="he"] .tracking-widest,
  html[lang="he"] .tracking-wider,
  html[lang="he"] .tracking-wide {
    letter-spacing: -0.01em !important;
  }
}

@layer utilities {
  /* Arabic text styling */
  .font-arabic {
    font-family: 'Cairo', 'Tajawal', 'Noto Sans Arabic', sans-serif;
    font-weight: 700;
  }

  /* Hebrew text styling */
  .font-hebrew {
    font-family: 'IBM Plex Sans Hebrew', 'Arial Hebrew', sans-serif;
    font-weight: 700;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Hero headlines - language specific */
  .font-hero {
    font-family: 'Inter', sans-serif;
    font-weight: 900;
  }
  .font-hero-hebrew {
    font-family: 'IBM Plex Sans Hebrew', 'Arial Hebrew', sans-serif;
    font-weight: 700;
    letter-spacing: 0;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .font-hero-arabic {
    font-family: 'Cairo', 'Tajawal', sans-serif;
    font-weight: 800;
  }
  .hero-glow {
    text-shadow: 0 0 30px #FF6B35, 0 0 60px #FF6B3580, 0 0 90px #FF6B3540;
  }

  /* Enhanced Hebrew headline styles */
  .hebrew-headline {
    font-family: 'IBM Plex Sans Hebrew', 'Arial Hebrew', sans-serif;
    font-weight: 700;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .hebrew-body {
    font-family: 'IBM Plex Sans Hebrew', 'Arial Hebrew', sans-serif;
    font-weight: 500;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .hebrew-small {
    font-family: 'IBM Plex Sans Hebrew', 'Arial Hebrew', sans-serif;
    font-weight: 600;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Hide reCAPTCHA badge */
.grecaptcha-badge { visibility: hidden !important; }

/* Hide scrollbars on all devices — keeps scroll working, hides the bar */
*::-webkit-scrollbar { display: none; }
* { scrollbar-width: none; }

.no-scroll {
  overflow: hidden;
}

@keyframes aurora {
  from {
    background-position: 50% 50%, 50% 50%;
  }
  to {
    background-position: 350% 50%, 350% 50%;
  }
}

.animate-aurora {
  animation: aurora 60s linear infinite;
}

/* === MOBILE PERFORMANCE OPTIMIZATIONS === */
@media (max-width: 767px) {
  /* Reduce heavy text-shadow on mobile GPUs */
  .hero-glow {
    text-shadow: 0 0 20px #FF6B3580;
  }

  /* Disable backdrop-blur on mobile — extremely expensive on mobile GPUs */
  .backdrop-blur-xl,
  .backdrop-blur-sm {
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
  }

  /* Use cheaper opaque backgrounds instead of blur */
  .bg-black\/80 {
    background-color: rgba(0, 0, 0, 0.95) !important;
  }

  /* Reduce box-shadow complexity on mobile */
  .shadow-xl {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
  }

  /* Content-visibility for below-fold sections — skip rendering until scrolled into view */
  footer {
    content-visibility: auto;
    contain-intrinsic-size: auto 400px;
  }
}

/* GPU-accelerated transforms — hint browser to composite on GPU */
.fixed {
  transform: translateZ(0);
}

/* === ACCESSIBILITY === */

/* Reduced motion — respect user preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  video {
    display: none;
  }
}

/* Focus visible styles for keyboard navigation */
*:focus-visible {
  outline: 2px solid #ea580c;
  outline-offset: 2px;
}

/* Improve contrast for low-opacity text */
.text-white\/40 {
  color: rgba(255, 255, 255, 0.6) !important;
}
.text-white\/30 {
  color: rgba(255, 255, 255, 0.5) !important;
}
.text-white\/50 {
  color: rgba(255, 255, 255, 0.65) !important;
}
